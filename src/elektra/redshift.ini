; Elektra spec file for redshift@490ba2aae9cfee097a88b6e2be98aeb1ce990050 (= redshift v1.12 + some small commits)
; Based on: https://github.com/ElektraInitiative/libelektra/blob/master/examples/spec/lcdproc/LCDd.ini

; TODO:
; 1. revise hierarchy, naming and types to make redshift config files easier to read and use and less error-prone. breaks backwards-compatibility.
; 2. after 1.: split up colon-separated options for location-providers and adjustment-methods into separate CLI arguments.
; 3. after 1. and 2.: add properties "required", "default", etc.
; 4. after 1. and 2.: add command line arguments to specification
; 5. after 1. and 2.: add enum values

[]
mountpoint = redshift.ecf
infos/plugins = ni validation

; Configuration values - section redshift
;=======================================================
[redshift/temp/day]
type = unsigned_short
description = The color temperature the screen should have during daytime.

[redshift/temp/night]
type = unsigned_short
description = The color temperature the screen should have during nighttime.

[redshift/fade]
type = boolean
description = Whether transitions between color temperatures (e.g. from daytime to nighttime) should happen fast or slow.

[redshift/brightness]
type = float
description = The screen brightness.

[redshift/brightness/day]
type = float
description = The screen brightness during daytime.

[redshift/brightness/night]
type = float
description = The screen brightness during nighttime.

[redshift/elevation/high]
type = float
description = By default, Redshift will use the current elevation of the sun to determine whether it is daytime, night or in transition (dawn/dusk). When the sun is above the degrees specified with the elevation-high key it is considered daytime and below the elevation-low key it is considered night (source: https://github.com/jonls/redshift/wiki/Configuration-file#solar-elevation-thresholds).

[redshift/elevation/low]
type = float
description = By default, Redshift will use the current elevation of the sun to determine whether it is daytime, night or in transition (dawn/dusk). When the sun is above the degrees specified with the elevation-high key it is considered daytime and below the elevation-low key it is considered night (source: https://github.com/jonls/redshift/wiki/Configuration-file#solar-elevation-thresholds).

[redshift/gamma]
type = float
description = The screen gamma.

[redshift/gamma/day]
type = float
description = The screen gamma during daytime.

[redshift/gamma/night]
type = float
description = The screen gamma during nighttime.

[redshift/adjustment-method]
type = string
check/enum = #5
check/enum/#0 = drm
check/enum/#1 = dummy
check/enum/#2 = quartz
check/enum/#3 = randr
check/enum/#4 = vidmode
check/enum/#5 = w32gdi
description = The method used to adjust screen color temperature.

[redshift/location-provider]
type = string
check/enum = #2
check/enum/#0 = corelocation
check/enum/#1 = geoclue2
check/enum/#2 = manual
description = The location provider. Used to establish whether it is currently daytime or nighttime.

[redshift/dawn-time]
type = regex \d{2}:\d{2}
description = Instead of using the solar elevation, the time intervals of dawn and dusk can be specified manually (source: https://github.com/jonls/redshift/wiki/Configuration-file#custom-dawndusk-intervals).

[redshift/dusk-time]
type = regex \d{2}:\d{2}
description = Instead of using the solar elevation, the time intervals of dawn and dusk can be specified manually (source: https://github.com/jonls/redshift/wiki/Configuration-file#custom-dawndusk-intervals).

; Configuration values - section manual
;=======================================================
; Values for location provider manual (see location_manual_set_option() in location-manual.c)
[redshift/location-providers/manual/lat]
type = float
description = The location latitude. Only has an effect if location provider "manual" is used.

[redshift/location-providers/manual/lon]
type = float
description = The location longitude. Only has an effect if location provider "manual" is used.

; Note: other location providers have no config parameters/cli arguments

; Configuration values - section drm
;=======================================================
; Values for the adjustment method drm
[redshift/adjustment-methods/drm/card]
type = unsigned_short
description = Graphics card to apply adjustments to.

[redshift/adjustment-methods/drm/crtc]
type = unsigned_short
description = CRTC to apply adjustments to.

; Configuration values - section randr
;=======================================================
; Values for the adjustment method randr
[redshift/adjustment-methods/randr/screen]
type = unsigned_short
description = X screen to apply adjustments to.

[redshift/adjustment-methods/randr/crtc]
type = unsigned_short
description = List of comma separated CRTCs to apply adjustments to.

; Configuration values - section vidmode
;=======================================================
; Values for the adjustment method vidmode
[redshift/adjustment-methods/vidmode/screen]
type = unsigned_short
description = X screen to apply adjustments to.

; Note: adjustment methods dummy, quartz and w32gdi have no config parameters/cli arguments or none that have an effect.